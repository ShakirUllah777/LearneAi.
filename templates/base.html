{% load static %}
<!doctype html>
<html lang="en" class="scroll-smooth">
  <head>
    <meta charset="utf-8">
    <title>LearneAi</title>

    <script src="https://cdn.tailwindcss.com"></script>

    <script>
      tailwind.config = {
        darkMode: 'class',
      }
    </script>
  </head>

  <body class="bg-white text-black dark:bg-black dark:text-gray-100 transition-colors duration-300">

    <!-- NAVBAR -->
    <nav class="flex justify-between items-center px-8 py-4 shadow-md
                bg-white dark:bg-gray-800 dark:shadow-gray-700">

      <h1 class="text-2xl font-bold">
        <span class="text-green-600 dark:text-green-400">Learne</span>
        <span class="text-red-600 dark:text-red-400">Ai.</span>
      </h1>

      <div class="flex items-center space-x-5 font-medium">
        <a href="/" class="hover:text-green-600 dark:hover:text-green-400">Home</a>
        <a href="/tutorials/" class="hover:text-green-600 dark:hover:text-green-400">Tutorials</a>
        <a href="/roadmaps/" class="hover:text-green-600 dark:hover:text-green-400">Roadmaps</a>
        <a href="/about/" class="hover:text-green-600 dark:hover:text-green-400">About</a>

        {% if user.is_authenticated %}
          <a href="/logout/" class="text-red-600 dark:text-red-400">Logout</a>
        {% else %}
          <a href="/login/" class="hover:text-green-600 dark:hover:text-green-400">Login</a>
          <a href="/register/" class="hover:text-green-600 dark:hover:text-green-400">Register</a>
        {% endif %}

        <button id="themeToggle"
          class="ml-4 px-3 py-2 rounded-lg border
                 border-gray-300 dark:border-gray-600
                 hover:bg-gray-100 dark:hover:bg-gray-700">
          ğŸŒ™
        </button>
      </div>
    </nav>

    {% if messages %}
    <div class="max-w-md mx-auto mt-6">
      {% for message in messages %}
      <div class="bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-200
                  p-3 rounded mb-2">
        {{ message }}
      </div>
      {% endfor %}
    </div>
    {% endif %}

    <main class="p-8">
      {% block content %}{% endblock %}
    </main>

    <script>
      const toggleBtn = document.getElementById("themeToggle");
      const html = document.documentElement;

      if (localStorage.getItem("theme") === "dark") {
        html.classList.add("dark");
        toggleBtn.innerText = "â˜€ï¸";
      }

      toggleBtn.addEventListener("click", () => {
        html.classList.toggle("dark");

        if (html.classList.contains("dark")) {
          localStorage.setItem("theme", "dark");
          toggleBtn.innerText = "â˜€ï¸";
        } else {
          localStorage.setItem("theme", "light");
          toggleBtn.innerText = "ğŸŒ™";
        }
      });
    </script>

  </body>
</html>
